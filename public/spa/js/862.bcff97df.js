"use strict";(globalThis["webpackChunkbs_fe"]=globalThis["webpackChunkbs_fe"]||[]).push([[862],{1315:(e,a,d)=>{d.r(a),d.d(a,{default:()=>z});var i=d(9835),o=d(499),s=d(6970),l=d(9302),n=d(1569),c=d(4480),r=d(8407);const t=[{name:"name",label:"Name",align:"center",field:"name",sortable:!0},{name:"deviceId",label:"Device ID",align:"center",field:"deviceId",sortable:!0},{name:"ipaddress",label:"IP Address",align:"center",field:"ipaddress",sortable:!0},{name:"deviceType",label:"Type",align:"center",field:"deviceType",sortable:!0},{name:"actions",label:"FN",align:"center"}];var p=d(3746);const v=(0,p.Q_)("devices",(()=>{const e=(0,l.Z)(),a=(0,o.iH)([]);async function d(d){try{e.loading.show(),await n.api.post("/devices",{...d});const i=await n.api.get("/devices");a.value=i.data.devices,e.loading.hide()}catch(i){e.loading.hide(),console.error(i)}}async function i(){try{e.loading.show();const d=await n.api.get("/devices");a.value=d.data.devices,e.loading.hide()}catch(d){e.loading.hide(),console.error(d)}}async function s(d){try{e.loading.show(),await n.api.delete("/devices",{data:{...d}});const i=await n.api.get("/devices");a.value=i.data.devices,e.loading.hide()}catch(i){e.loading.hide(),console.error(i)}}return{devices:a,updateDevices:i,addDevice:d,removeDevice:s}})),u={class:"q-pa-md"},m={class:"borderd"},w={class:"q-px-lg q-py-sm row items-center bg-grey-2"},g=(0,i._)("span",{class:"text-h6"},"Devices",-1),b=["href"],h={class:"caption"},y={__name:"devicesPage",setup(e){const a=(0,l.Z)(),d=v(),n=(0,i.Fl)((()=>d.devices)),p=(0,o.iH)(""),y=()=>{a.dialog({component:c.Z}).onOk((async e=>{await d.addDevice(e),await d.updateDevices()}))},f=e=>{a.dialog({component:r.Z,componentProps:{icon:"delete",iconColor:"red",title:"Delete device",message:`Name: ${e.name}, IP_Address: ${e.ipaddress}`}}).onOk((async()=>{await d.removeDevice(e)}))};return(0,i.bv)((async()=>{a.loading.show(),d.updateDevices(),a.loading.hide()})),(e,a)=>{const d=(0,i.up)("q-icon"),l=(0,i.up)("q-btn"),c=(0,i.up)("q-space"),r=(0,i.up)("q-input"),v=(0,i.up)("q-td"),_=(0,i.up)("q-tr"),k=(0,i.up)("q-table");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",m,[(0,i._)("div",w,[(0,i.Wm)(d,{name:"dns",size:"20px",color:"primary"}),g,(0,i.Wm)(l,{round:"",flat:"",icon:"add_circle",color:"primary",onClick:y}),(0,i.Wm)(c),(0,i.Wm)(r,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),borderless:"",dense:"",debounce:"300",clearable:"",placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])]),(0,i.Wm)(k,{flat:"",columns:(0,o.SU)(t),rows:n.value,filter:p.value},{body:(0,i.w5)((e=>[(0,i.Wm)(_,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{key:"name",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,i.Wm)(v,{key:"deviceId",props:e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.deviceId),1)])),_:2},1032,["props"]),(0,i.Wm)(v,{key:"ipaddress",props:e},{default:(0,i.w5)((()=>[(0,i._)("a",{href:`http://${e.row.ipaddress}`,target:"_blank"},(0,s.zw)(e.row.ipaddress),9,b)])),_:2},1032,["props"]),(0,i.Wm)(v,{key:"deviceType",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",null,(0,s.zw)(e.row.deviceType.deviceType),1),(0,i._)("div",h,(0,s.zw)(e.row.deviceType.model),1)])),_:2},1032,["props"]),(0,i.Wm)(v,{key:"actions",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(l,{round:"",flat:"",color:"red-10",size:"sm",icon:"delete",onClick:a=>f(e.row)},null,8,["onClick"])])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","filter"])])])}}};var f=d(2857),_=d(4455),k=d(136),W=d(6611),D=d(7077),T=d(3532),Z=d(7220),q=d(9984),I=d.n(q);const Q=y,z=Q;I()(y,"components",{QIcon:f.Z,QBtn:_.Z,QSpace:k.Z,QInput:W.Z,QTable:D.Z,QTr:T.Z,QTd:Z.Z})}}]);