"use strict";(globalThis["webpackChunkbs_fe"]=globalThis["webpackChunkbs_fe"]||[]).push([[955],{8955:(e,a,l)=>{l.r(a),l.d(a,{default:()=>W});var t=l(9835),s=l(499),r=l(6970),o=l(3878),n=l.n(o),i=l(3746),p=l(1569);const u=[{name:"createdAt",label:"Time",align:"center",field:"createdAt",sortable:!0},{name:"level",label:"Level",align:"center",field:"level",sortable:!0},{name:"message",label:"Message",align:"left",field:"message",sortable:!0}],d=(0,i.Q_)("logs",(()=>{const e=(0,s.iH)([]),a=(0,s.iH)(""),l=(0,s.iH)(!1),t=(0,s.iH)({sortBy:"createdAt",descending:!1,page:1,rowsPerPage:10,rowsNumber:0}),r=async a=>{l.value=!0;const s=await p.api.get("/logs",{params:{search:a.filter,limit:a.pagination.rowsPerPage,page:a.pagination.page}});t.value.rowsNumber=s.data.count,t.value.page=Number(s.data.page),t.value.rowsPerPage=Number(s.data.limit),e.value=s.data.current,l.value=!1};return{current:e,filter:a,loading:l,pagination:t,onRequest:r}})),c={class:"q-pa-md"},g={class:"borderd"},m={class:"q-px-lg q-py-sm row items-center bg-grey-2"},w=(0,t._)("span",{class:"text-h6"},"System Log",-1),b={__name:"LogsPage",setup(e){n().locale="ko-KR";const{current:a,filter:l,loading:o,pagination:p}=(0,i.Jk)(d());return(0,t.bv)((async()=>{await d().onRequest({filter:l.value,pagination:p.value})})),(e,i)=>{const b=(0,t.up)("q-icon"),v=(0,t.up)("q-space"),f=(0,t.up)("q-input"),q=(0,t.up)("q-td"),_=(0,t.up)("q-tr"),U=(0,t.up)("q-table");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("div",g,[(0,t._)("div",m,[(0,t.Wm)(b,{name:"list_alt",size:"24px",color:"primary"}),w,(0,t.Wm)(v),(0,t.Wm)(f,{modelValue:(0,s.SU)(l),"onUpdate:modelValue":i[0]||(i[0]=e=>(0,s.dq)(l)?l.value=e:null),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:(0,t.w5)((()=>[(0,t.Wm)(b,{name:"search"})])),_:1},8,["modelValue"])]),(0,t.Wm)(U,{flat:"",columns:(0,s.SU)(u),rows:(0,s.SU)(a),filter:(0,s.SU)(l),loading:(0,s.SU)(o),"row-key":"_id",pagination:(0,s.SU)(p),"onUpdate:pagination":i[1]||(i[1]=e=>(0,s.dq)(p)?p.value=e:null),onRequest:(0,s.SU)(d)().onRequest},{body:(0,t.w5)((e=>[(0,t.Wm)(_,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{key:"createdAt",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)((0,s.SU)(n())(e.row.createdAt).format("YYYY-MM-DD hh:mm:ss A")),1)])),_:2},1032,["props"]),(0,t.Wm)(q,{key:"level",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.row.level.toUpperCase()),1)])),_:2},1032,["props"]),(0,t.Wm)(q,{key:"message",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,r.zw)(e.row.message),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","filter","loading","pagination","onRequest"])])])}}};var v=l(2857),f=l(136),q=l(6611),_=l(7580),U=l(3532),k=l(7220),h=l(9984),y=l.n(h);const S=b,W=S;y()(b,"components",{QIcon:v.Z,QSpace:f.Z,QInput:q.Z,QTable:_.Z,QTr:U.Z,QTd:k.Z})}}]);