"use strict";(globalThis["webpackChunkbs_fe"]=globalThis["webpackChunkbs_fe"]||[]).push([[955],{8955:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Q});var t=l(9835),s=l(499),o=l(6970),r=l(3878),n=l.n(r),i=l(3746),p=l(1569);const u=[{name:"createdAt",label:"Time",align:"center",field:"createdAt",sortable:!0},{name:"level",label:"Level",align:"center",field:"level",sortable:!0},{name:"message",label:"Message",align:"left",field:"message",sortable:!0}],d=(0,i.Q_)("logs",(()=>{const e=(0,s.iH)([]),a=(0,s.iH)(""),l=(0,s.iH)(!1),t=(0,s.iH)({sortBy:"createdAt",descending:!1,page:1,rowsPerPage:10,rowsNumber:0}),o=async a=>{l.value=!0;const s=await p.api.get("/logs",{params:{search:a.filter,limit:a.pagination.rowsPerPage,page:a.pagination.page}});t.value.rowsNumber=s.data.count,t.value.page=Number(s.data.page),t.value.rowsPerPage=Number(s.data.limit),e.value=s.data.current,l.value=!1};return{current:e,filter:a,loading:l,pagination:t,onRequest:o}})),c=e=>((0,t.dD)("data-v-bf841d98"),e=e(),(0,t.Cn)(),e),m={class:"page"},g={class:"form full-width"},w={class:"q-mx-lg row items-center"},b=c((()=>(0,t._)("span",{class:"text-h6"},"System Log",-1))),f={__name:"LogsPage",setup(e){n().locale="ko-KR";const{current:a,filter:l,loading:r,pagination:p}=(0,i.Jk)(d());return(0,t.bv)((async()=>{await d().onRequest({filter:l.value,pagination:p.value})})),(e,i)=>{const c=(0,t.up)("q-icon"),f=(0,t.up)("q-space"),v=(0,t.up)("q-input"),_=(0,t.up)("q-td"),q=(0,t.up)("q-tr"),U=(0,t.up)("q-table");return(0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("div",g,[(0,t._)("div",w,[(0,t.Wm)(c,{name:"list_alt",size:"24px",color:"primary"}),b,(0,t.Wm)(f),(0,t.Wm)(v,{modelValue:(0,s.SU)(l),"onUpdate:modelValue":i[0]||(i[0]=e=>(0,s.dq)(l)?l.value=e:null),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])]),(0,t.Wm)(U,{flat:"",columns:(0,s.SU)(u),rows:(0,s.SU)(a),filter:(0,s.SU)(l),loading:(0,s.SU)(r),"row-key":"_id",pagination:(0,s.SU)(p),"onUpdate:pagination":i[1]||(i[1]=e=>(0,s.dq)(p)?p.value=e:null),onRequest:(0,s.SU)(d)().onRequest},{body:(0,t.w5)((e=>[(0,t.Wm)(q,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{key:"createdAt",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)((0,s.SU)(n())(e.row.createdAt).format("YYYY-MM-DD hh:mm:ss A")),1)])),_:2},1032,["props"]),(0,t.Wm)(_,{key:"level",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.row.level.toUpperCase()),1)])),_:2},1032,["props"]),(0,t.Wm)(_,{key:"message",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.row.message),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","filter","loading","pagination","onRequest"])])])}}};var v=l(1639),_=l(2857),q=l(136),U=l(6611),h=l(7580),k=l(3532),S=l(7220),y=l(9984),W=l.n(y);const P=(0,v.Z)(f,[["__scopeId","data-v-bf841d98"]]),Q=P;W()(f,"components",{QIcon:_.Z,QSpace:q.Z,QInput:U.Z,QTable:h.Z,QTr:k.Z,QTd:S.Z})}}]);