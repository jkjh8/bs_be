"use strict";(globalThis["webpackChunkbs_fe"]=globalThis["webpackChunkbs_fe"]||[]).push([[507],{507:(e,a,n)=>{n.r(a),n.d(a,{default:()=>ee});var o=n(9835),l=n(499),t=n(6970),i=n(9302),s=n(1569),c=n(3746),d=n(1252),r=n(4182);const u={class:"q-px-sm"},m={class:"dialogName"},p={class:"q-px-sm"},_={class:"q-px-sm"},v={__name:"zoneName",props:{currentName:String,zone:Number},emits:[...r.Z.emits],setup(e,{emit:a}){const n=e,{dialogRef:i,onDialogCancel:s,onDialogHide:c,onDialogOK:d}=(0,r.Z)(),v=(0,l.iH)("");return(0,o.bv)((()=>{n.currentName&&(v.value=n.currentName)})),(a,n)=>{const r=(0,o.up)("q-card-section"),w=(0,o.up)("q-input"),g=(0,o.up)("q-btn"),f=(0,o.up)("q-card-actions"),q=(0,o.up)("q-card"),Z=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(Z,{ref_key:"dialogRef",ref:i,onHide:(0,l.SU)(c)},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"q-dialog-plugin"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o._)("div",m,(0,t.zw)(`Modify Zone ${e.zone} Name`),1)])])),_:1}),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",p,[(0,o.Wm)(w,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=e=>v.value=e),dense:"",outlined:"",label:"Name"},null,8,["modelValue"])])])),_:1}),(0,o.Wm)(f,{align:"right"},{default:(0,o.w5)((()=>[(0,o._)("div",_,[(0,o.Wm)(g,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:(0,l.SU)(s)},null,8,["onClick"]),(0,o.Wm)(g,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:n[1]||(n[1]=e=>(0,l.SU)(d)(v.value))})])])),_:1})])),_:1})])),_:1},8,["onHide"])}}};var w=n(1639),g=n(3706),f=n(4458),q=n(3190),Z=n(6611),y=n(1821),k=n(4455),W=n(9984),x=n.n(W);const b=(0,w.Z)(v,[["__scopeId","data-v-79230cce"]]),z=b;x()(v,"components",{QDialog:g.Z,QCard:f.Z,QCardSection:q.Z,QInput:Z.Z,QCardActions:y.Z,QBtn:k.Z});const C=e=>((0,o.dD)("data-v-137a92b9"),e=e(),(0,o.Cn)(),e),Q={class:"q-pa-md"},h={class:"borderd"},D={class:"q-px-lg q-py-sm row items-center bg-grey-2"},I={class:"row no-wrap items-center q-gutter-x-sm"},N=C((()=>(0,o._)("span",{class:"text-h6"},"Zone Setup",-1))),S={class:"q-px-md q-ml-lg"},U={class:"row no-wrap items-center q-gutter-x-lg"},H={class:"q-gutter-x-sm"},j={class:"text-caption text-grey"},E={class:"q-ml-xl q-gutter-x-sm text-caption text-grey"},K=C((()=>(0,o._)("div",null,"Destination",-1))),L={class:"row no-wrap items-center"},R={class:"row no-wrap"},T={class:"row no-wrap items-center q-gutter-x-xs"},V={class:"gain"},A={class:"fit column no-wrap justify-start items-start content-start"},B={__name:"zoneSetupPage",setup(e){const a=(0,i.Z)(),{qsysDevices:n}=(0,c.Jk)((0,d.Z)()),{getQsysDevices:r}=(0,d.Z)(),u=(e,n,o)=>{a.dialog({component:z,componentProps:{currentName:e,zone:n}}).onOk((async e=>{a.loading.show();const l=await s.api.put("/devices/qsys/modifiedzonename",{deviceId:o,zone:n,name:e});(0,d.Z)().updateQsysDevices(l.data.devices),a.loading.hide()}))},m=async(e,n,o)=>{a.loading.show();const l=await s.api.put("/devices/qsys/volume",{deviceId:e,zone:n,value:o});(0,d.Z)().updateQsysDevices(l.data.devices),a.loading.hide()},p=async(e,n,o)=>{a.loading.show();const l=await s.api.put("/devices/qsys/mute",{deviceId:e,zone:n,value:o});(0,d.Z)().updateQsysDevices(l.data.devices),a.loading.hide()};return(0,o.bv)((async()=>{await r()})),(e,a)=>{const i=(0,o.up)("q-icon"),s=(0,o.up)("q-space"),c=(0,o.up)("q-tooltip"),d=(0,o.up)("q-btn"),_=(0,o.up)("q-item-section"),v=(0,o.up)("q-item-label"),w=(0,o.up)("q-avatar"),g=(0,o.up)("q-expansion-item"),f=(0,o.up)("q-list");return(0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("div",h,[(0,o._)("div",D,[(0,o._)("div",I,[(0,o.Wm)(i,{name:"map",size:"20px",color:"primary"}),N]),(0,o.Wm)(s),(0,o.Wm)(d,{round:"",flat:"",icon:"refresh",color:"primary",onClick:(0,l.SU)(r)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Refresh Devices")])),_:1})])),_:1},8,["onClick"])]),(0,o._)("div",null,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,l.SU)(n),((e,a)=>((0,o.wg)(),(0,o.j4)(g,{key:a,"header-class":"q-px-lg bg-blue-grey-1"},{header:(0,o.w5)((()=>[(0,o.Wm)(_,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{color:e.connected?"primary":"red-10",name:"location_on"},null,8,["color"])])),_:2},1024),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,{class:"q-gutter-x-sm"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,t.zw)(e.name),1)])),_:2},1024),(0,o.Wm)(v,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.ipaddress),1)])),_:2},1024)])),_:2},1024)])),default:(0,o.w5)((()=>[(0,o._)("div",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.ZoneStatus,(a=>((0,o.wg)(),(0,o.iD)("div",{key:a.Zone,class:"row no-wrap items-center q-px-sm"},[(0,o._)("div",U,[(0,o.Wm)(w,{color:"grey-2",size:"26px"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(a.Zone),1)])),_:2},1024),(0,o._)("div",null,[(0,o._)("div",H,[(0,o._)("span",null,(0,t.zw)(a.name?a.name:"No Name"),1),(0,o.Wm)(d,{round:"",flat:"",icon:"edit",color:"primary",size:"sm",onClick:n=>u(a.name,a.Zone,e.deviceId)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Edit Name")])),_:1})])),_:2},1032,["onClick"])]),(0,o._)("div",j," Zone "+(0,t.zw)(a.Zone),1)]),(0,o._)("div",E,[K,(0,o._)("div",null,(0,t.zw)(a.destination?a.destination:"Local"),1)]),(0,o.Wm)(d,{round:"",flat:"",icon:"edit",color:"primary",size:"sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Edit Destination")])),_:1})])),_:1})]),(0,o.Wm)(s),(0,o._)("div",L,[(0,o._)("div",R,[(0,o._)("div",T,[(0,o._)("div",V,(0,t.zw)(a.gain),1),(0,o._)("div",A,[(0,o.Wm)(d,{class:"btn",flat:"",icon:"keyboard_arrow_up",size:"xs",onClick:n=>m(e.deviceId,a.Zone,a.gain+1)},null,8,["onClick"]),(0,o.Wm)(d,{class:"btn",flat:"",icon:"keyboard_arrow_down",size:"xs",onClick:n=>m(e.deviceId,a.Zone,a.gain-1)},null,8,["onClick"])])])]),(0,o.Wm)(d,{round:"",flat:"",icon:a.mute?"volume_off":"volume_up",color:a.mute?"red":"primary",onClick:n=>p(e.deviceId,a.Zone,a.mute?0:1)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Mute")])),_:1})])),_:2},1032,["icon","color","onClick"])])])))),128))])])),_:2},1024)))),128))])),_:1})])])])}}};var M=n(2857),O=n(136),P=n(6858),Y=n(3246),J=n(1123),$=n(1233),F=n(3115),G=n(1357);const X=(0,w.Z)(B,[["__scopeId","data-v-137a92b9"]]),ee=X;x()(B,"components",{QIcon:M.Z,QSpace:O.Z,QBtn:k.Z,QTooltip:P.Z,QList:Y.Z,QExpansionItem:J.Z,QItemSection:$.Z,QItemLabel:F.Z,QAvatar:G.Z})}}]);