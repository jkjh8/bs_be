"use strict";(globalThis["webpackChunkbs_fe"]=globalThis["webpackChunkbs_fe"]||[]).push([[638],{6638:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Z});var t=l(9835),o=l(499),s=l(6970),r=l(3746),n=l(3878),p=l.n(n),i=l(1569);const u=(0,r.Q_)("eventlog",(()=>{const e=(0,o.iH)([]),a=(0,o.iH)(""),l=(0,o.iH)(!1),t=(0,o.iH)({sortBy:"createdAt",descending:!1,page:1,rowsPerPage:10,rowsNumber:0}),s=async a=>{console.log(a),l.value=!0;const o=await i.api.get("/logs/eventlog",{params:{search:a.filter,limit:a.pagination.rowsPerPage,page:a.pagination.page}});t.value.rowsNumber=o.data.count,t.value.page=Number(o.data.page),t.value.rowsPerPage=Number(o.data.limit),e.value=o.data.current,l.value=!1};return{current:e,filter:a,loading:l,pagination:t,onRequest:s}})),d=[{name:"createdAt",label:"Time",align:"center",field:"createdAt",sortable:!0},{name:"level",label:"Level",align:"center",field:"level",sortable:!0},{name:"user",label:"User",align:"center",field:"user",sortable:!0},{name:"zones",label:"Zones",align:"center",field:"zones",sortable:!0},{name:"message",label:"Message",align:"left",field:"message",sortable:!0}],c=e=>((0,t.dD)("data-v-4aac13ea"),e=e(),(0,t.Cn)(),e),g={class:"page"},m={class:"form full-width"},w={class:"q-mx-lg row items-center"},v=c((()=>(0,t._)("span",{class:"text-h6"},"Event Log",-1))),b={__name:"eventlogPage",setup(e){p().locale="ko-KR";const{current:a,filter:l,loading:n,pagination:i}=(0,r.Jk)(u());return(0,t.bv)((async()=>{await u().onRequest({filter:l.value,pagination:i.value})})),(e,r)=>{const c=(0,t.up)("q-icon"),b=(0,t.up)("q-space"),f=(0,t.up)("q-input"),_=(0,t.up)("q-td"),k=(0,t.up)("q-tr"),U=(0,t.up)("q-table");return(0,t.wg)(),(0,t.iD)("div",g,[(0,t._)("div",m,[(0,t._)("div",w,[(0,t.Wm)(c,{name:"list_alt",size:"24px",color:"primary"}),v,(0,t.Wm)(b),(0,t.Wm)(f,{modelValue:(0,o.SU)(l),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,o.dq)(l)?l.value=e:null),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])]),(0,t.Wm)(U,{flat:"",columns:(0,o.SU)(d),rows:(0,o.SU)(a),filter:(0,o.SU)(l),loading:(0,o.SU)(n),"row-key":"_id",pagination:(0,o.SU)(i),"onUpdate:pagination":r[1]||(r[1]=e=>(0,o.dq)(i)?i.value=e:null),onRequest:(0,o.SU)(u)().onRequest},{body:(0,t.w5)((e=>[(0,t.Wm)(k,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{key:"createdAt",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)((0,o.SU)(p())(e.row.createdAt).format("YYYY-MM-DD hh:mm:ss A")),1)])),_:2},1032,["props"]),(0,t.Wm)(_,{key:"level",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)("string"==typeof e.row.level?e.row.level.toUpperCase():e.row.level),1)])),_:2},1032,["props"]),(0,t.Wm)(_,{key:"user",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.user),1)])),_:2},1032,["props"]),(0,t.Wm)(_,{key:"zones",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.zones),1)])),_:2},1032,["props"]),(0,t.Wm)(_,{key:"message",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.row.message),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","filter","loading","pagination","onRequest"])])])}}};var f=l(1639),_=l(2857),k=l(136),U=l(6611),q=l(7580),h=l(3532),y=l(7220),W=l(9984),z=l.n(W);const S=(0,f.Z)(b,[["__scopeId","data-v-4aac13ea"]]),Z=S;z()(b,"components",{QIcon:_.Z,QSpace:k.Z,QInput:U.Z,QTable:q.Z,QTr:h.Z,QTd:y.Z})}}]);