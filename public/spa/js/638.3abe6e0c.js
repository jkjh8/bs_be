"use strict";(globalThis["webpackChunkbs_fe"]=globalThis["webpackChunkbs_fe"]||[]).push([[638],{6638:(e,a,l)=>{l.r(a),l.d(a,{default:()=>z});var r=l(9835),o=l(499),s=l(6970),t=l(3746),n=l(3878),p=l.n(n),i=l(1569);const u=(0,t.Q_)("eventlog",(()=>{const e=(0,o.iH)([]),a=(0,o.iH)(""),l=(0,o.iH)(!1),r=(0,o.iH)({sortBy:"createdAt",descending:!1,page:1,rowsPerPage:10,rowsNumber:0}),s=async a=>{console.log(a),l.value=!0;const o=await i.api.get("/logs/eventlog",{params:{search:a.filter,limit:a.pagination.rowsPerPage,page:a.pagination.page}});r.value.rowsNumber=o.data.count,r.value.page=Number(o.data.page),r.value.rowsPerPage=Number(o.data.limit),e.value=o.data.current,l.value=!1};return{current:e,filter:a,loading:l,pagination:r,onRequest:s}})),d=[{name:"createdAt",label:"Time",align:"center",field:"createdAt",sortable:!0},{name:"level",label:"Level",align:"center",field:"level",sortable:!0},{name:"user",label:"User",align:"center",field:"user",sortable:!0},{name:"zones",label:"Zones",align:"center",field:"zones",sortable:!0},{name:"message",label:"Message",align:"left",field:"message",sortable:!0}],c={class:"q-pa-md"},g={class:"borderd"},m={class:"q-px-lg q-py-sm bg-grey-2 row items-center"},w=(0,r._)("span",{class:"text-h6"},"Event Log",-1),b={__name:"eventlogPage",setup(e){p().locale="ko-KR";const{current:a,filter:l,loading:n,pagination:i}=(0,t.Jk)(u());return(0,r.bv)((async()=>{await u().onRequest({filter:l.value,pagination:i.value})})),(e,t)=>{const b=(0,r.up)("q-icon"),v=(0,r.up)("q-space"),f=(0,r.up)("q-input"),_=(0,r.up)("q-td"),k=(0,r.up)("q-tr"),U=(0,r.up)("q-table");return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",g,[(0,r._)("div",m,[(0,r.Wm)(b,{name:"list_alt",size:"24px",color:"primary"}),w,(0,r.Wm)(v),(0,r.Wm)(f,{modelValue:(0,o.SU)(l),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.dq)(l)?l.value=e:null),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:(0,r.w5)((()=>[(0,r.Wm)(b,{name:"search"})])),_:1},8,["modelValue"])]),(0,r.Wm)(U,{flat:"",columns:(0,o.SU)(d),rows:(0,o.SU)(a),filter:(0,o.SU)(l),loading:(0,o.SU)(n),"row-key":"_id",pagination:(0,o.SU)(i),"onUpdate:pagination":t[1]||(t[1]=e=>(0,o.dq)(i)?i.value=e:null),onRequest:(0,o.SU)(u)().onRequest},{body:(0,r.w5)((e=>[(0,r.Wm)(k,{props:e},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{key:"createdAt",props:e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)((0,o.SU)(p())(e.row.createdAt).format("YYYY-MM-DD hh:mm:ss A")),1)])),_:2},1032,["props"]),(0,r.Wm)(_,{key:"level",props:e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)("string"==typeof e.row.level?e.row.level.toUpperCase():e.row.level),1)])),_:2},1032,["props"]),(0,r.Wm)(_,{key:"user",props:e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.row.user),1)])),_:2},1032,["props"]),(0,r.Wm)(_,{key:"zones",props:e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.row.zones),1)])),_:2},1032,["props"]),(0,r.Wm)(_,{key:"message",props:e},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.row.message),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["columns","rows","filter","loading","pagination","onRequest"])])])}}};var v=l(2857),f=l(136),_=l(6611),k=l(7580),U=l(3532),q=l(7220),y=l(9984),h=l.n(y);const W=b,z=W;h()(b,"components",{QIcon:v.Z,QSpace:f.Z,QInput:_.Z,QTable:k.Z,QTr:U.Z,QTd:q.Z})}}]);